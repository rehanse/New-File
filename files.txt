it('should initialize data source correctly', () => {
  component.occupancyData = [{ ULId: '123', LocationName: 'Test', Address: 'Some Address' } as Occupancy];
  spyOn<any>(component, 'getFormArray').and.returnValue({ clear: jasmine.createSpy(), push: jasmine.createSpy() } as any);
  component.initializeDataSource();
  expect(component['getFormArray']().clear).toHaveBeenCalled();
});

it('should call getOccupancyType when changing occupancy group', () => {
  spyOn<any>(component, 'getOccupancyType');
  component.changeOccupancyGroup(0, 'group1');
  expect(component['getOccupancyType']).toHaveBeenCalledWith(0, 'group1', jasmine.any(Object), jasmine.any(Object));
});
